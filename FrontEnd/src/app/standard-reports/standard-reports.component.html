<div class="module">
  <div class="container-fluid">
    <div class="module-heading">
      Standard reports
    </div>
    <div class="module-body">
      <form>
        <div class="row">
          <div class="col-md-4">
            <library-folder [showMenu]="false" (selectionChange)="folderChanged($event)"></library-folder>
          </div>

          <div class="col-md-8">
            <div class="table scroll-box-450">
              <table class="table table-striped table-sm">
                <thead>
                  <tr>
                    <th class="col-md-9">Title</th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="hover-box show-child-on-hover" [ngClass]="{'selection': item == selectedItem}" *ngFor="let item of getSummaryList()" (click)="selectRow(item)">
                    <td>
                      {{item.name}} <span class="fa fa-info-circle fa-right-pad text-muted" ngbTooltip="{{item.description}}" *ngIf="item.description"></span>
                      <div class="row" [hidden]="!libraryItem || libraryItem.uuid != item.uuid">
                        <div class="col-md-2"><button type="button" class="btn btn-sm btn-success" (click)="runReport()">Run report now</button></div>
                        <div class="col-md-2"><button type="button" class="btn btn-sm btn-warning" (click)="exportNHSNumber()">Export IDs only</button></div>
                        <div class="col-md-2"><button type="button" class="btn btn-sm btn-warning" (click)="exportData()">Export all data</button></div>
                        <div class="col-md-6">
                          <div class="row">
                            <div class="col-md-4"><b>Last run :</b></div>
                            <div class="col-md-8">
                              <span [hidden]="!libraryItem?.countReport?.lastRun">{{libraryItem?.countReport?.lastRun | date:'dd-MMM-yyyy HH:mm:ss'}}</span>
                              <span [hidden]="libraryItem?.countReport?.lastRun">Never</span>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-md-4"><b>Result :</b></div>
                            <div class="col-md-8">{{libraryItem?.countReport?.count}} row(s)</div>
                          </div>
                        </div>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
